## BFC

开始进入之前，我们得先来了解一下BFC的全称是啥： **Block Formatting Contexts (块级格式化上下文)**

对于这个命名，起码我一开始看到的时候是完全不理解为什么叫这个名字的

没关系，下面我们来慢慢理解

### 常见定位方案

首先，我们平时写项目的时候，定位元素的方式有很多

#### 普通流（normal flow）

在普通流中，元素按照其在 HTML 中的先后位置至上而下布局

在这个过程中，行内元素水平排列，直到当行被占满然后换行

块级元素则会被渲染为完整的一个新行

除非另外指定，否则所有元素默认都是普通流定位

也可以说，普通流中元素的位置由该元素在 HTML 文档中的位置决定

#### 浮动（float）

在浮动布局中，元素首先按照普通流的位置出现，然后根据浮动的方向尽可能的向左边或右边偏移，其效果与印刷排版中的文本环绕相似

#### 绝对定位 (absolute positioning)

在绝对定位布局中，元素会整体脱离普通流，

因此绝对定位元素不会对其兄弟元素造成影响，而元素具体的位置由绝对定位的坐标决定

### 概念

BFC也是元素定位方案中的一种，他属于上述定位方案中的文档流

**具有 BFC 特性的元素可以看作是隔离了的独立容器，容器里面的元素不会在布局上影响到外面的元素，并且 BFC 具有普通容器所没有的一些特性。**

大白话来讲就是，具有BFC特性的容器就像码头的集装箱，内部的元素是各自封闭且互不干扰

### 条件

那什么样的容器是具有BFC特性的呢？

- body元素
- 浮动元素：float出了none以外的值
- 绝对定位元素：绝对定位元素
- display为：inline-block、table、table-cells、flex
- overflow出了visible以外的值：hidden、auto、scroll

### 使用场景

在概念中我们说了，BFC元素各自封闭且互不干扰，那怎么才算互不干扰呢？

下面我们来看几种场景

#### 外边距折叠

如果是普通的元素，设置了外边距后，是会折叠的：

![image-20210309214501843](C:\Users\wwz\AppData\Roaming\Typora\typora-user-images\image-20210309214501843.png)

正常情况下，应该是两个div之间隔了40px才对，这就是一种产生干扰的情况

这时候我们利用上面的条件，将这两个div放在两个BFC容器中，利用`overflow:hidden`：
![image-20210309215019789](C:\Users\wwz\AppData\Roaming\Typora\typora-user-images\image-20210309215019789.png)

影响就清除了，还可以试试其他的条件，也有同样的效果

#### 浮动

我们都知道，当元素浮动的时候，会脱离文档流，那么其他元素的位置就会收到影响：

![image-20210309220120247](C:\Users\wwz\AppData\Roaming\Typora\typora-user-images\image-20210309220120247.png)

如图所示，normal的元素，因为float元素，往左移被覆盖了

因为float元素已经是具有BFC属性了，normal元素仍是普通元素

所以我们可以将normal元素利用上述条件，变为具有BFC性质的元素，比如我们也浮动，或者设置为：`display:inline-block;`：

![image-20210309220336011](C:\Users\wwz\AppData\Roaming\Typora\typora-user-images\image-20210309220336011.png)

看，float元素的影响就被消除了

### 特性

为什么会有这样的使用场景呢？

那是因为具有BFC特性的元素具有如下特性：

- 盒子从顶部开始垂直排列
- 两个相邻的盒子之间的垂直距离由外边距（既margin）决定
- 计算BFC的高度时，浮动子元素也参与计算